{{ define "main" }}
  <div class="homepage-content-wrapper">
    
    {{/* --- About Section --- */}}
    <div class="about-section">
      {{ with .Site.GetPage "page" "about" }}
        {{ .Content }}
      {{ else }}
        <p>Home intro not found.</p>
      {{ end }}
    </div>

    {{/* --- Separator --- */}}
    <hr class="section-separator">

    {{/* --- Recent Posts Section --- */}}
    <div class="recent-posts-section">
      <div class="recent-posts-grid">
        
        {{/* Weekly Updates Column */}}
        <div class="recent-posts-column">
          <h4>Recent Weekly Updates</h4>
          {{ $weeklySection := .Site.GetPage "/posts/weekly" }}
          <div class="posts-list">
            {{ range first 4 $weeklySection.RegularPages }}
            <div class="post-item">
              <a href="{{ .Permalink }}">{{ .Title }}</a>
            </div>
            {{ end }}
          </div>
        </div>

        {{/* Essays Column */}}
        <div class="recent-posts-column">
          <h4>Recent Essays</h4>
          {{ $essaysSection := .Site.GetPage "/posts/essays" }}
          <div class="posts-list">
            {{ range first 4 $essaysSection.RegularPages }}
            <div class="post-item">
              <a href="{{ .Permalink }}">{{ .Title }}</a>
            </div>
            {{ end }}
          </div>
        </div>

      </div>
    </div>

  </div>
{{ end }}